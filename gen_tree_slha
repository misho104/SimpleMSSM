#!MathematicaScript -script

Needs["SLHA`",       FileNameJoin[{Directory[], DirectoryName[$ScriptCommandLine[[1]]], "vendor", "slha-mathematica", "SLHA.m"}]];
Needs["SimpleMSSM`", FileNameJoin[{Directory[], DirectoryName[$ScriptCommandLine[[1]]], "TreeSpec.m"}]];

Global::InvalidArguments = "Input/Output file not specified. (Usage: " <> $ScriptCommandLine[[1]] <> " inputfile outputfile)";
Global::FileNotFound = "File `1` not found.";

If[Length[$ScriptCommandLine] != 3, Message[Global::InvalidArguments]; Abort[]; ]
IFile = $ScriptCommandLine[[2]];
OFile = $ScriptCommandLine[[3]];
If[Not[FileExistsQ[IFile]], Message[Global::FileNotFound, IFile]; Abort[]; ]
ISLHA = ReadSLHA[IFile];
CalculateSpectrum[ISLHA, OFile];
Exit[];


